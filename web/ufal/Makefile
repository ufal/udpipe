TARGETS=udpipe.html online.html install.html user.html api_reference.html
all: $(TARGETS)

refresh:
	$(MAKE) -C ../../doc/ web

udpipe.html: refresh
	sed '1,/<body>/d; /<div class="header"/,/<\/div/d; /^<!-- html code generated by txt2tags/,$$ d' ../../doc/web.html >$@

install.html user.html api_reference.html online.html:%: refresh
	sed '1,/<body>/d; /^<!-- html code generated by txt2tags/,$$ d' ../../doc/web_$@ >$@
	sed 's#<table border="1">#<table class="table table-hover table-condensed">#' -i $@

install: $(TARGETS)
	scp $(TARGETS) ufal:public_html/udpipe/

.PHONY: clean
clean:
	rm -f $(TARGETS)
